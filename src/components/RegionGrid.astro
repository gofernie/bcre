---
// File: src/components/RegionGrid.astro
const { regions } = Astro.props;

/**
 * Subtle per-region accent dot (no Tailwind dynamic classes).
 * Keep everything else neutral + consistent.
 */
const ACCENT: Record<string, string> = {
  "kootenays": "#10b981",        // emerald
  "okanagan": "#f59e0b",         // amber
  "lower-mainland": "#0ea5e9",    // sky
  "vancouver-island": "#14b8a6",  // teal
  "northern-bc": "#6366f1",       // indigo
};

const dotFor = (slug: string) => ACCENT[slug] ?? "#94a3b8"; // slate-400 fallback
---

<style is:global>
  .rg-dot { background: var(--dot); }
</style>

<div class="grid gap-5 sm:grid-cols-2 lg:grid-cols-3">
  {regions.map((r) => (
    <a
      href={`/regions/${r.slug}`}
      style={`--dot:${dotFor(r.slug)}`}
      class="
        group
        rounded-2xl
        border border-slate-200
        bg-white
        p-6
        transition
        hover:border-slate-300
      "
    >
      <div class="flex items-start justify-between gap-3">
        <div>
          <div class="text-base font-semibold tracking-tight text-slate-900">
            {r.name}
          </div>

          <div class="mt-2 text-sm text-slate-600">
            {r.desc}
          </div>
        </div>

        <div
          class="
            mt-1
            rounded-xl
            border border-slate-200
            px-2 py-1
            text-xs
            text-slate-500
            group-hover:border-slate-300
            group-hover:text-slate-700
          "
        >
          View
        </div>
      </div>

      <div class="mt-4 flex items-center gap-2 text-xs text-slate-500">
        <span class="rg-dot inline-block h-2 w-2 rounded-full"></span>
        <span>Region hub</span>
      </div>
    </a>
  ))}
</div>
