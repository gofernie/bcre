---
// File: src/components/RegionHeader.astro
type Crumb = { label: string; href?: string };

const {
  title,
  subtitle,
  crumbs = [],
  accent = "rgb(16 185 129)", // emerald-ish default
} = Astro.props as {
  title: string;
  subtitle?: string;
  crumbs?: Crumb[];
  accent?: string;
};
---

<header class="rh">
  <div class="rh-inner">
    {crumbs?.length ? (
      <nav class="rh-crumbs" aria-label="Breadcrumb">
        <ol>
          {crumbs.map((c, i) => (
            <li>
              {c.href ? <a href={c.href}>{c.label}</a> : <span aria-current="page">{c.label}</span>}
              {i < crumbs.length - 1 ? <span class="sep">â€º</span> : null}
            </li>
          ))}
        </ol>
      </nav>
    ) : null}

    <div class="rh-title">
      <h1>{title}</h1>
      {subtitle ? <p>{subtitle}</p> : null}
    </div>
  </div>
</header>

<style>
  .rh{
    position: relative;
    border-bottom: 1px solid rgb(226 232 240);
    background:
      linear-gradient(180deg, rgba(255,255,255,.9), rgba(255,255,255,.75)),
      radial-gradient(1200px 400px at 15% 10%, color-mix(in srgb, var(--accent) 18%, transparent), transparent 60%);
  }

  .rh::before{
    content:"";
    position:absolute;
    left:0; top:0;
    height: 6px; width:100%;
    background: linear-gradient(90deg, var(--accent), transparent 70%);
    opacity: .9;
  }

  .rh-inner{
    --accent: var(--rh-accent, rgb(16 185 129));
    padding: 18px 0 20px;
  }

  .rh-crumbs ol{
    display:flex;
    flex-wrap: wrap;
    gap: 8px;
    list-style:none;
    padding:0;
    margin: 0 0 10px;
    font-size: 13px;
    color: rgb(100 116 139);
  }

  .rh-crumbs a{
    color: inherit;
    text-decoration: none;
    border-bottom: 1px solid transparent;
  }
  .rh-crumbs a:hover{ border-bottom-color: currentColor; color: rgb(15 23 42); }

  .rh-crumbs .sep{ opacity:.6; }

  .rh-title h1{
    margin:0;
    font-size: clamp(22px, 3vw, 34px);
    line-height: 1.15;
    letter-spacing: -0.02em;
    color: rgb(15 23 42);
  }

  .rh-title p{
    margin: 8px 0 0;
    max-width: 72ch;
    color: rgb(71 85 105);
    font-size: 15px;
  }
</style>

<!-- pass accent via inline style -->
<style is:inline>
  .rh-inner{ --rh-accent: {accent}; }
</style>
